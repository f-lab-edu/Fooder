DROP TABLE IF EXISTS STORE;
CREATE TABLE `STORE`
(
    `STORE_ID`         INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY NOT NULL,
    `NAME`             VARCHAR(100)                                     NOT NULL,
    `FOOD_CATEGORY`    VARCHAR(50)                                      NOT NULL,
    `TELEPHONE_NUMBER` VARCHAR(20) NULL,
    `ZIP_CODE`         VARCHAR(5)                                       NOT NULL,
    `ADDRESS`          VARCHAR(255)                                     NOT NULL,
    `DETAIL_ADDRESS`   VARCHAR(255)                                     NOT NULL,
    `MIN_ORDER_PRICE`  INT                                              NOT NULL,
    `DELIVERY_PRICE`   INT                                              NOT NULL,
    `START_TIME`       TIME                                             NOT NULL,
    `FINISH_TIME`      TIME                                             NOT NULL
);

DROP TABLE IF EXISTS MENU;
CREATE TABLE `MENU`
(
    `MENU_ID`               INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY NOT NULL,
    `STORE_ID`              INT                                              NOT NULL,
    `NAME`                  VARCHAR(100)                                     NOT NULL,
    `DESCRIPTION`           VARCHAR(255)                                     NOT NULL,
    `BASE_MENU_DESCRIPTION` VARCHAR(255) NULL,
    `PRICE`                 INT                                              NOT NULL
);

DROP TABLE IF EXISTS OPTION_GROUP_SPEC;
CREATE TABLE `OPTION_GROUP_SPEC`
(
    `OPTION_GROUP_SPEC_ID` INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY NOT NULL,
    `MENU_ID`              INT                                              NOT NULL,
    `NAME`                 VARCHAR(100)                                     NOT NULL
);

DROP TABLE IF EXISTS OPTION_SPEC;
CREATE TABLE `OPTION_SPEC`
(
    `OPTION_SPEC_ID`       INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY NOT NULL,
    `OPTION_GROUP_SPEC_ID` INT                                              NOT NULL,
    `NAME`                 VARCHAR(100)                                     NOT NULL,
    `PRICE`                INT                                              NOT NULL
);


-- spring data jdbc test ddl
DROP TABLE MEMBER IF EXISTS CASCADE;
CREATE TABLE MEMBER
(
    ID           INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY NOT NULL,
    PHONE_NUMBER VARCHAR(20)                                  NOT NULL,
    NAME         VARCHAR(20)                                  NOT NULL,
    NICK_NAME    VARCHAR(20)                                  NOT NULL
)
